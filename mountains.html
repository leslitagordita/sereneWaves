<!--                                                                                                                       
     #####    ##         ###   ###                       ##### ##                                          ##     ###    
  ######  /  #### /       ###   ###                   ######  /### /         #                              ##     ###   
 /#   /  /   ####/         ##    ##                  /#   /  /  ##/         ###                             ##      ##   
/    /  /    # #           ##    ##                 /    /  /    #           #                              ##      ##   
    /  /     #             ##    ##                     /  /                                                ##      ##   
   ## ##     #      /##    ##    ##      /###          ## ##   ###  /###   ###       /##  ###  /###     ### ##      ##   
   ## ##     #     / ###   ##    ##     / ###  /       ## ##    ###/ #### / ###     / ###  ###/ #### / #########    ##   
   ## ########    /   ###  ##    ##    /   ###/        ## ###### ##   ###/   ##    /   ###  ##   ###/ ##   ####     ##   
   ## ##     #   ##    ### ##    ##   ##    ##         ## #####  ##          ##   ##    ### ##    ##  ##    ##      ##   
   ## ##     ##  ########  ##    ##   ##    ##         ## ##     ##          ##   ########  ##    ##  ##    ##      ### /
   #  ##     ##  #######   ##    ##   ##    ##         #  ##     ##          ##   #######   ##    ##  ##    ##       ##/ 
      /       ## ##        ##    ##   ##    ##            #      ##          ##   ##        ##    ##  ##    ##           
  /##/        ## ####    / ##    ##   ##    ##        /####      ##          ##   ####    / ##    ##  ##    /#       #   
 /  #####      ## ######/  ### / ### / ######        /  #####    ###         ### / ######/  ###   ###  ####/        ###  
/     ##           #####    ##/   ##/   ####        /    ###      ###         ##/   #####    ###   ###  ###          #   
#                                                   #                                                                    
 ##                                                  ##                                                                  
 --> 

<!DOCTYPE html>                                                                                                                       
<html>

  <head>
    <meta charset="utf-8">
    <script src="js/jquery-1.11.1.js"></script>
    <script src="js/fabric.js-1.4.12/dist/fabric.js"></script>
    <link rel="stylesheet" type="text/css" href="styles/main.css"/>
  </head>

  <body>
    <div id = "container">
        <canvas id="canvas" width="" height="" style="border:1px solid #ccc"></canvas>
    </div>
 
  </body>

    <script>
    $(function () {
        //window Height and Width
        var windowHeight = window.innerHeight;    
        var windowWidth = window.innerWidth;

        var canvas = new fabric.Canvas('canvas',
            {
                backgroundColor: 'rgb(200, 247, 250)'
            });

        //set canvas dimensions based on window dimensions
        canvas.setHeight(windowHeight);
        canvas.setWidth(windowWidth);

        //canvas dimensions
        var canHeight = canvas.getHeight();
        var canWidth = canvas.getWidth();

        //calculate midpoint of canvas
        var midPoint = canHeight / 2;
        var bottomThirds = midPoint / 3;
        var bottomTwoThirds = bottomThirds * 2;
        var sandTop = midPoint + bottomTwoThirds;

        var oceanBottomThird = bottomTwoThirds /3;
        var wavesTop = sandTop - oceanBottomThird;
        var wavesHeight = bottomTwoThirds / 3;

      
        //calculates circle's diameter
        var calcCircDiameter = canHeight * (4/5);
        var calcCircRadius = calcCircDiameter / 2;

        //calculates top and left placement for circle based on its diameter centering circle based on screen width and height
        var calcTop = (canHeight - calcCircDiameter) / 2;
        var calcLeft = (canWidth - calcCircDiameter) / 2;

        var rectBackground = new fabric.Rect({
            top : 0,
            left : 0,
            width : canWidth,
            height : canHeight,
            fill : 'rgb(137, 207, 240)',
            hasControls: false,
            hasBorders: false,
            selectable: false,
        })

        var rectOcean = new fabric.Rect({
            top : midPoint,
            left : 0,
            width : canWidth,
            height : bottomTwoThirds,
            fill : 'rgb(120, 182, 164)',
            hasControls: false,
            hasBorders: false,
            selectable: false,
        })

         var rectSand = new fabric.Rect({
            top : sandTop,
            left : 0,
            width : canWidth,
            height : bottomThirds,
            fill : 'rgb(235, 217, 178)',
            hasControls: false,
            hasBorders: false,
            selectable: false,
        })

            var rectWaves = new fabric.Rect({
            top : wavesTop,
            left : 0,
            width : canWidth,
            height : wavesHeight,
            fill : 'rgb(50, 217, 178)',
            hasControls: false,
            hasBorders: false,
            selectable: false,
        })

          rectOcean.setGradient('fill', {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: rectOcean.height / 2,
            colorStops: {
                0: 'rgb(120, 182, 164)',
                1: 'rgb(160,235,203)'
            }
        });

            rectSand.setGradient('fill', {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: rectOcean.height / 2,
            colorStops: {
                0: 'rgb(184, 162, 129)',
                0.4: 'rgb(235, 217, 178)',
                0.5: 'rgb(235, 217, 178)',
                1: 'rgb(235, 217, 178)'
            }
        });

            rectBackground.setGradient('fill', {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: rectBackground.height / 2,
            colorStops: {
                0: 'rgb(119, 195, 253)',
                0.3: 'rgb(143, 207, 255)',
                1: 'rgb(188, 223, 249)'
            }
          });

            rectWaves.setGradient('fill', {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: rectWaves.height / 2,
            colorStops: {
                0: 'rgb(255, 255, 255)',
                0.3: 'rgba(255, 255, 255, 0.5)',
                1: 'rgba(160, 235, 203, 0)'
            }
        });

            var colorT = 'rgb(0, 0, 0)';

        
        //add all objects to canvas
        canvas.add(rectBackground, rectOcean, rectSand, rectWaves);

        rectWaves.animate('top', sandTop, {
          duration:6000,
          onChange: canvas.renderAll.bind(canvas),
          onComplete: rectWaves.animate('opacity', 0,{ 
                duration:17000,
                onChange: canvas.renderAll.bind(canvas),
                easing: fabric.util.ease.easeOutSine
            })//end of rectBackgroundThree animate
        });

       
    });

    </script>
  

</html>